/**
 * ow-ux-sandbox
 * main.js
 * version: 2.14.0
 */

"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var tr=tr||{};tr.openWeb=tr.openWeb||{},tr.openWeb.tools={settings:{timeout:150,breakpointTags:{phone:"screen-phone",tablet:"screen-tablet",desktop:"screen-desktop",widescreen:"screen-widescreen"}},state:{breakpoint:null},init:function(){this.handlers(),this.userAgentClass()},userAgentClass:function(){var e=document.documentElement;e.setAttribute("data-useragent",navigator.userAgent)},handlers:function(){var e=this,t=void 0;$(window).on("resize orientationchange",function(){clearTimeout(t),t=setTimeout(function(){$(window).trigger("resized")},e.settings.timeout)}),$(window).on("scroll",function(){clearTimeout(t),t=setTimeout(function(){$(window).trigger("scrolled")},e.settings.timeout)}),tr.openWeb.tools.state.breakpoint=tr.openWeb.tools.getResponsiveTag(),$(window).on("resized",function(){var e=tr.openWeb.tools.state.breakpoint,t=tr.openWeb.tools.getResponsiveTag();e!==t&&(tr.openWeb.tools.state.breakpoint=t,$(window).trigger("breakpointchange",[t,e]))})},getResponsiveTag:function(){return $("html").css("font-family").replace(/'|'/g,"").replace(/"/g,"")}},$(function(){tr.openWeb.tools.init()}),tr.openWeb.analytics={init:function(){var e=this;e.initHandlers()},initHandlers:function(){},sendEvent:function(e,t,i){for(var n=["dataLayer"],o=0;o<n.length;o++)"undefined"!=typeof window[n[o]]&&window[n[o]].push({event:"analyticsEvent",eventCategory:e,eventAction:t,eventLabel:i,eventValue:null,eventNonInt:!1})}},$(function(){tr.openWeb.analytics.init()}),tr.openWeb.modals={$el:$("div.modal"),init:function(){this.$el.length&&(this.setup(),this.handlers())},setup:function(){this.$el.each(function(){$(this).addClass("fade").appendTo("body"),$(this).data("open")===!0&&($(this).modal("show"),$(this).trigger("modal-open"))})},handlers:function(){this.$el.on("hidden.bs.modal",function(){var e=$(this);tr.openWeb.videoAsset.removeVideos(e),setTimeout(function(){$('[data-toggle="modal"]').blur()},0)}),this.$el.on("shown.bs.modal",function(){var e=$(this),t=e.find(".slick-initialized");t.length&&t.slick("setPosition")})}},$(function(){tr.openWeb.modals.init()}),tr.openWeb.dropdowns={$el:$(".dropdown-toggle"),init:function(){this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$el.parent().on("hidden.bs.dropdown",function(){e.$el.blur()})}},$(function(){tr.openWeb.dropdowns.init()}),tr.openWeb.smoothscroll={config:{duration:500},$el:$(".ss"),init:function(){this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$el.on("click",function(t){var i=$($(this).attr("href"));t.preventDefault(),i.stop().velocity("scroll",{duration:e.config.duration})})}},$(function(){tr.openWeb.smoothscroll.init()}),tr.openWeb.toggleActive={$el:$('[data-toggle="active"]'),init:function(){this.$el.length&&this.handlers()},handlers:function(){this.$el.on("click",function(e){var t=$(this).attr("data-toggle-target"),i=$(this).closest(t);e.preventDefault(),i.toggleClass("active")})}},tr.openWeb.toggleCloseUp={config:{duration:500},$el:$('[data-toggle="closeup"]'),init:function(){this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$el.on("click",function(t){var i=$(this).attr("data-toggle-target"),n=$(this).closest(i);t.preventDefault(),n.velocity("slideUp",{duration:e.config.duration})})}},$(function(){tr.openWeb.toggleActive.init(),tr.openWeb.toggleCloseUp.init()}),tr.openWeb.fixedsticky={$el:$(".fixedsticky"),init:function(){this.$el.length&&(this.setup(),this.handlers())},setup:function(){var e=tr.openWeb.tools.state.breakpoint;this.$el.each(function(){var t=$(this).find(".site-specific-header--fr").length>0;$(this).is("[class*=fixedsticky-]")?t?$(this).removeClass("fixedsticky"):($(this).hasClass("fixedsticky-xs")&&"screen-phone"===e||$(this).hasClass("fixedsticky-sm")&&"screen-tablet"===e||$(this).hasClass("fixedsticky-md")&&"screen-desktop"===e||$(this).hasClass("fixedsticky-lg")&&"screen-widescreen"===e)&&$(this).fixedsticky():$(this).fixedsticky()})},handlers:function(){var e=this;$(window).on("breakpointchange resetfixedsticky",function(){$(".fixedsticky").fixedsticky("destroy"),e.setup()}),Modernizr.touch&&!function(){var e=$("body");$(document).on("focus","input",function(){var t=$(this).closest(".fixedsticky");t.length>0&&t.css("position").match(/sticky/)&&(e.addClass("fixfixed"),setTimeout(function(){$(document).scrollTop(0)},10))}).on("blur","input",function(){e.removeClass("fixfixed")})}()}},$(function(){tr.openWeb.fixedsticky.init()}),tr.openWeb.layout={$el:$(".component--reduced-bottom"),init:function(){this.$el.length&&this.setup()},setup:function(){var e=$("div#body .region:not(.region--inline) .component").length;0===e&&this.$el.removeClass("component--reduced-bottom")}},$(function(){tr.openWeb.layout.init()}),tr.openWeb.placeholder={$el:$('[data-placeholder-polyfill="true"]'),init:function(){this.$el.length&&!Modernizr.input.placeholder&&this.setup()},setup:function(){this.$el.placeholder()}},$(function(){tr.openWeb.placeholder.init()}),tr.openWeb.discoverThomsonReuters={$el:$(".discover-thomson-reuters"),init:function(){this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$el.on("shown.bs.dropdown",function(){$(window).on("scroll.tr.openWeb.discoverThomsonReuters.watch",function(){e.close()})}),this.$el.on("hide.bs.dropdown",function(){e.close()})},close:function(){this.$el.removeClass("open"),$(window).off("scroll.tr.openWeb.discoverThomsonReuters.watch")}},$(function(){tr.openWeb.discoverThomsonReuters.init()}),tr.openWeb.siteSelector={$el:$(".site-selector"),init:function(){this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$el.on("shown.bs.dropdown",function(){$(window).on("scroll.tr.openWeb.discoverThomsonReuters.watch",function(){e.close()})}),this.$el.on("hide.bs.dropdown",function(){e.close()})},close:function(){this.$el.removeClass("open"),$(window).off("scroll.tr.openWeb.discoverThomsonReuters.watch")}},$(function(){tr.openWeb.siteSelector.init()}),tr.openWeb.primaryNavigation={active:!1,cloned:!1,utility:!1,config:{duration:300},$el:$(".primary-navigation"),init:function(){this.$el.length&&this.handlers()},setup:function(){this.$wrapper=$(".primary-navigation-list-wrapper"),this.$toggle=$(".primary-navigation-toggle"),this.$mobile=$(".primary-navigation-mobile"),this.$labelToggle=$(".primary-navigation-list-wrapper .label-toggle"),this.$labelToggleParent=$(".primary-navigation-list-wrapper .label-toggle").parent(),this.$megamenu=$(".primary-navigation-list-wrapper .megamenu"),this.$body=$("body"),this.$utility=$(".site-specific-header .utility-navigation"),this.$utilityClone=$(".primary-navigation .utility-navigation-clone")},handlers:function(){var e=this;this.setup(),this.$toggle.on("click",function(t){t.preventDefault(),e.active===!1?e.open():e.close()}),$("body").on("click.openWeb.primaryNavigation.watch",function(t){var i=tr.openWeb.tools.state.breakpoint,n=i===tr.openWeb.tools.settings.breakpointTags.phone,o=i===tr.openWeb.tools.settings.breakpointTags.tablet;n||o&&e.isMobileAtTabletBreakpoint()||e.$el.is(t.target)||0!==e.$el.has(t.target).length||e.$mobile.is(t.target)||0!==e.$mobile.has(t.target).length||e.close()}),$(".dropdown").on("show.bs.dropdown",function(){e.close()}),$(window).on("breakpointchange",function(){e.close()}),this.$labelToggle.on("click",function(t){var i=tr.openWeb.tools.state.breakpoint,n=i===tr.openWeb.tools.settings.breakpointTags.phone,o=i===tr.openWeb.tools.settings.breakpointTags.tablet,a=i===tr.openWeb.tools.settings.breakpointTags.desktop,s=i===tr.openWeb.tools.settings.breakpointTags.widescreen,r=$(this).parent();if(t.preventDefault(),r.hasClass("megamenu-active"))r.removeClass("megamenu-active"),e.$body.removeClass("megamenu-active").removeClass("megamenu-active-right");else if(r.hasClass("active"))n||o&&e.isMobileAtTabletBreakpoint()?!function(){var t=r.children(".megamenu").length?r.children(".megamenu"):r.find(".level-2");r.children(".megamenu-sm").length&&(t=r.children(".megamenu-sm")),r.removeClass("active").removeClass("megamenu-active"),t.velocity("slideUp",{duration:e.config.duration,complete:function(){t.removeAttr("style"),t.find(".level-2").removeAttr("style").parent().removeClass("active").removeClass("megamenu-active"),t.find(".megamenu").removeAttr("style").parent().removeClass("active").removeClass("megamenu-active"),t.find(".megamenu-sm").removeAttr("style").parent().removeClass("active").removeClass("megamenu-active")}})}():r.removeClass("active");else if(n)!function(){var t=r.children(".megamenu").length?r.children(".megamenu"):r.find(".level-2");r.children(".megamenu-sm").length&&(t=r.children(".megamenu-sm")),r.addClass("active"),t.stop().velocity("slideDown",{duration:e.config.duration,complete:function(){t.css("height","auto")}})}();else if(o&&e.isMobileAtTabletBreakpoint())!function(){var t=r.children(".megamenu").length?r.children(".megamenu"):r.find(".level-2");r.addClass("active"),t.stop().velocity("slideDown",{duration:e.config.duration,complete:function(){t.css("height","auto")}})}();else{var l=$(".site-specific-header.site-specific-header--expanded");if(e.$labelToggleParent.not($(this).closest("li.active")).not($(this).closest("li.megamenu-active")).removeClass("active").removeClass("megamenu-active"),$(this).next().hasClass("megamenu")){var c=r.find(".megamenu"),d=c.find(".end-cap"),h=c.find(".level-4"),u=void 0;u=(a||s)&&l.length?r.closest(".level-2").outerHeight():e.$wrapper.outerHeight(),c.length&&e.activateMegamenu(c,u),d.length&&h.addClass("has-end-cap"),d.length&&h.length&&(u-=1,h.css("min-height",u)),(a||s)&&l.length&&l.hasClass("site-specific-header--integrated")&&e.adjustTargetWidth(r,l),r.addClass("megamenu-active")}else r.addClass("active");(a||s)&&l.length&&r.parent().hasClass("level-1")&&e.detectDirection(r),e.open()}}),e.isFinancialHeader()?$(window).on("resize scroll",function(){$(".megamenu-active").not("body").each(function(){var t=$(this),i=t.find(".megamenu");$(document).scrollTop()>i.offset().top+.75*i.height()&&.25*$(window).height()>t.offset().top+t.height()-$(document).scrollTop()&&e.close()})}):!function(){var t=!1,i=void 0,n=void 0,o=void 0;$(window).on("resize scroll",function(){var a=tr.openWeb.tools.state.breakpoint,s=a===tr.openWeb.tools.settings.breakpointTags.phone,r=a===tr.openWeb.tools.settings.breakpointTags.tablet;s||r&&e.isMobileAtTabletBreakpoint()||Modernizr.touch||(clearTimeout(n),t===!1&&(t=$(window).scrollTop()),i=$(window).scrollTop(),o=Math.abs(t-i),o>75&&(e.close(),t=!1),n=setTimeout(function(){t=!1},300))})}()},activateMegamenu:function(e,t){var i=e.closest(".load-right").length;e.css("min-height",t),this.$body.addClass("megamenu-active"),i?this.$body.addClass("megamenu-active-right"):this.$body.removeClass("megamenu-active-right")},adjustTargetWidth:function(e,t){var i=e.find("> .megamenu"),n=t.find("> .container").width(),o=t.find(".nav-wrapper").width(),a=Modernizr.mq("only all")?"max-width":"width";e.closest(".level-2").length?i.css(a,n-o+10):i.css(a,n-o+10+e.find("> .label-toggle").outerWidth())},detectDirection:function(e){var t=e.position().left,i=$(".site-specific-header.site-specific-header--expanded.site-specific-header--segmented"),n=!1;if(i.length){var o=e.find(".megamenu.wide").length,a=e.find(".megamenu").length,s=$(".site-specific-header > .container").outerWidth(),r=e.children(".megamenu").length?"menu":"level",l=s-t-20,c=void 0,d=void 0,h=void 0;if(n=!0,"menu"===r?(c=0,d=555,h=280):(c=170,d=555+c,h=280+c),o>0&&d>l){var u=l-c;if(n=!1,d>u){var p=l-c,f=Modernizr.mq("only all")?"max-width":"width";400>p?(l=s-l,e.find(".megamenu.wide").css(f,l-40)):(n=!0,e.find(".megamenu.wide").css(f,l-c))}}else a>0&&h>l&&(n=!1)}n===!0?e.addClass("load-right"):e.removeClass("load-right")},open:function(){var e=this,t=tr.openWeb.tools.state.breakpoint,i=t===tr.openWeb.tools.settings.breakpointTags.phone,n=t===tr.openWeb.tools.settings.breakpointTags.tablet;this.utility===!1&&this.$utility.length&&(this.utility=!0,this.$utility.children().clone(!0).appendTo(this.$utilityClone),this.$utilityClone.addClass("cloned")),this.cloned===!1&&(i||n&&e.isMobileAtTabletBreakpoint())&&(this.cloned=!0,this.$wrapper.clone(!0).appendTo(this.$mobile),this.setup()),tr.openWeb.globalSearch.active===!0&&tr.openWeb.globalSearch.close(),(i||n&&e.isMobileAtTabletBreakpoint())&&setTimeout(function(){e.$mobile.stop().velocity("slideDown",{duration:e.config.duration,complete:function(){$(this).css("height","auto")}},0)}),this.$el.addClass("active"),this.active=!0},close:function(){var e=this;this.active===!0?!function(){var t=e,i=tr.openWeb.tools.state.breakpoint,n=i===tr.openWeb.tools.settings.breakpointTags.phone,o=i===tr.openWeb.tools.settings.breakpointTags.tablet;e.$el.removeClass("active"),n||o&&t.isMobileAtTabletBreakpoint()?e.$mobile.velocity("slideUp",{duration:e.config.duration,complete:function(){t.reset()}}):e.reset(),e.active=!1}():this.reset()},reset:function(){this.$mobile.removeAttr("style"),this.$megamenu.removeAttr("style"),this.$body.removeClass("megamenu-active").removeClass("megamenu-active-right"),this.$labelToggleParent.removeClass("active").removeClass("megamenu-active").removeClass("load-right"),this.$megamenu.find(".level-2").removeAttr("style"),this.$megamenu.find(".level-4").removeAttr("style")},isMobileAtTabletBreakpoint:function(){return this.isFinancialHeader()},isFinancialHeader:function(){return this.$el.parents(".site-specific-header--fr").length>0}},$(function(){tr.openWeb.primaryNavigation.init()}),tr.openWeb.carouselMultiElement={$el:$(".carousel-multi-element > .inner"),config:{"screen-phone":{itemWidth:768,itemMargin:0,grid:1},"screen-tablet":{itemWidth:355,itemMargin:15,grid:2},"screen-desktop":{itemWidth:300,itemMargin:20,grid:3},"screen-widescreen":{itemWidth:370,itemMargin:30,grid:3}},init:function(){this.$el.length&&(this.setup(),this.handlers()),$("ul.slides > li:only-child").addClass("only-child")},handlers:function(){var e=this;$(window).on("breakpointchange",function(){e.update()})},getConfig:function(e){var t=tr.openWeb.tools.state.breakpoint;return this.config[t][e]},setup:function(){this.flexslider()},flexslider:function(){var e=this;this.$el.each(function(){var t=$(this).find("ul.slides > li"),i=$(this),n=void 0,o={viewed:[],view:function(e){-1===this.viewed.indexOf(e)&&(tr.openWeb.analytics.sendEvent(this._getCategory(),"View",this._getLabel(e)),this.viewed.push(e))},click:function(e){tr.openWeb.analytics.sendEvent(this._getCategory(),"Click",this._getLabel(e))},_getCategory:function(){return(i.data("carouseltitle")||i.find(".heading-2").text())+" Carousel"},_getLabel:function(e){var i=t.eq(e),n="";if(i.length){var o=i.find("a.title");n=o.length?o.first().attr("href"):i.find("img").attr("src")||"(unknown URL)"}return e+1+" "+n}};if(t.length>1){$(this).flexslider({controlNav:!0,slideshow:!1,keyboard:!1,animation:"slide",animationLoop:!1,itemWidth:e.getConfig("itemWidth"),itemMargin:e.getConfig("itemMargin"),minItems:e.getConfig("grid"),maxItems:e.getConfig("grid"),prevText:"",nextText:"",loop:!1,before:function(e){n=e.currentSlide},after:function(t){var i=t;i.length&&n!==t.currentSlide&&tr.openWeb.videoAsset.removeVideos(i),Modernizr.touch&&(i.find(".flex-next").blur(),i.find(".flex-prev").blur());for(var a=0;a<e.getConfig("grid");a++)o.view(e.getConfig("grid")*t.currentSlide+a)}});for(var a=0;a<e.getConfig("grid");a++)o.viewed.push(a)}else t.show();t.on("click tap",function(){o.click($(this).index())})})},update:function(){var e=this;this.$el.each(function(){var t=$(this).data("flexslider");t.vars.itemWidth=e.getConfig("itemWidth"),t.vars.itemMargin=e.getConfig("itemMargin"),t.vars.minItems=e.getConfig("grid"),t.vars.maxItems=e.getConfig("grid"),setTimeout(function(){t.resize(),t.resize()},300)})}},$(function(){tr.openWeb.carouselMultiElement.init()}),tr.openWeb.globalSearch={active:!1,expand:!1,config:{duration:150},$el:$(".global-search"),$input:$(".global-search-input"),$toggle:$(".global-search-toggle"),$predictive:$(".global-search-predictive"),init:function(){this.$el.length&&(this.$siteSpecificHeader=$(".site-specific-header.site-specific-header--expanded"),this.handlers())},handlers:function(){var e=this;this.$toggle.on("click",function(t){t.preventDefault(),e.active===!0?e.close():e.open()}),this.$el.on("keydown",function(t){e.keyPredictive(t)}),this.$input.on("change keyup paste",function(){var t=$(this).val();t.length>0?e.showPredictive():e.hidePredictive()}),this.$input.on("focus",function(){var t=tr.openWeb.tools.state.breakpoint,i=t===tr.openWeb.tools.settings.breakpointTags.desktop,n=t===tr.openWeb.tools.settings.breakpointTags.widescreen;(i||n)&&e.$siteSpecificHeader.length&&e.open()}),this.$input.on("blur",function(){setTimeout(function(){e.$siteSpecificHeader.length&&0===e.$predictive.find(":focus").length&&e.active===!0&&e.close()},150)}),Modernizr.touch&&this.$input.on("blur",function(t){setTimeout(function(){e.active===!0&&e.close(t)},50)})},open:function(){var e=this,t=tr.openWeb.tools.state.breakpoint,i=t===tr.openWeb.tools.settings.breakpointTags.desktop,n=t===tr.openWeb.tools.settings.breakpointTags.widescreen;tr.openWeb.primaryNavigation.active===!0&&tr.openWeb.primaryNavigation.close(),this.$el.addClass("active"),(i||n)&&e.$siteSpecificHeader.length?this.expandSearch():this.$input.focus(),$("body").on("click.tr.openWeb.globalSearch.watch",function(t){e.$el.is(t.target)||0!==e.$el.has(t.target).length||e.close()}),$(document).trigger("globalSearch"),this.active=!0},close:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.$el.removeClass("active"),this.hidePredictive(),this.collapseSearch(),$("body").off("click.tr.openWeb.globalSearch.watch"),this.active=!1},showPredictive:function(){this.$predictive.show()},hidePredictive:function(){this.$predictive.hide()},keyPredictive:function(e){var t=this,i=e.keyCode||e.which;if(27===i)this.$input.is(":focus")?(this.$input.blur(),this.close()):(e.preventDefault(),e.stopPropagation(),this.$input.focus());else if(!(38!==i&&40!==i&&9!==i||this.active!==!0&&this.expand!==!0)){var n=t.$predictive.find("a");if(e.preventDefault(),e.stopPropagation(),n.length){var o=n.index(n.filter(":focus"));38===i&&o>0&&o--,(40===i||9===i)&&o<n.length-1&&o++,o||(o=0),n.eq(o).focus()}}},expandSearch:function(){this.$siteSpecificHeader.addClass("expanded-search"),this.expand=!0},collapseSearch:function(){this.expand=!1,tr.openWeb.primaryNavigation.reset(),this.$siteSpecificHeader.removeClass("expanded-search")}},$(function(){tr.openWeb.globalSearch.init()}),tr.openWeb.searchBar={active:!1,$el:$(".search-bar"),$input:$(".search-bar-input"),$predictive:$(".search-bar-predictive"),init:function(){this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$el.on("keydown",function(t){e.keyPredictive(t)}),this.$input.on("change keyup paste",function(){var t=$(this).val();t.length>0?e.showPredictive():e.hidePredictive()}),this.$input.on("blur",function(){setTimeout(function(){0===e.$predictive.find(":focus").length&&e.hidePredictive()},0)})},showPredictive:function(){this.$predictive.show(),this.active=!0},hidePredictive:function(){this.$predictive.hide(),this.active=!1},keyPredictive:function(e){var t=this,i=e.keyCode||e.which;if(27===i)this.$input.is(":focus")?this.$input.blur():(e.preventDefault(),e.stopPropagation(),this.$input.focus());else if((38===i||40===i||9===i)&&this.active===!0){var n=t.$predictive.find("a");if(e.preventDefault(),e.stopPropagation(),n.length){var o=n.index(n.filter(":focus"));38===i&&o>0&&o--,(40===i||9===i)&&o<n.length-1&&o++,o||(o=0),n.eq(o).focus()}}}},$(function(){tr.openWeb.searchBar.init()}),tr.openWeb.globalFooter={config:{duration:500},$el:$(".global-footer"),$button:$(".global-footer .global-footer-toggle"),$nav:$(".global-footer .nav-wrapper"),init:function(){this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$button.on("click",function(t){t.preventDefault(),e.toggle()})},toggle:function(){var e=this;this.$el.hasClass("active")?(this.$el.removeClass("active"),this.$nav.removeAttr("style")):(this.$el.addClass("active"),this.$el.velocity("scroll",{duration:e.config.duration}))}},$(function(){tr.openWeb.globalFooter.init()}),tr.openWeb.localNavigation={active:!1,activeDropdown:!1,$el:$(".local-navigation"),config:{duration:300},init:function(){this.$el.length&&(this.$nav=$(".local-navigation-wrapper"),this.$toggle=$(".local-navigation-toggle"),this.$level1label=this.$nav.find(".label"),this.$level2=this.$nav.find(".level-2").closest("li"),this.handlers())},handlers:function(){var e=this;$(window).on("breakpointchange.tr.openWeb.localNavigation.watch",function(t,i,n){n!==tr.openWeb.tools.settings.breakpointTags.phone&&i!==tr.openWeb.tools.settings.breakpointTags.phone||e.reset()}),this.$toggle.on("click",function(t){t.preventDefault(),e.active===!0?(e.active=!1,e.$nav.stop().velocity("slideUp",{duration:e.config.duration,complete:function(){e.reset()}})):(e.active=!0,e.$nav.stop().velocity("slideDown",{duration:e.config.duration,complete:function(){$(this).css("height","auto")}}))}),this.$level1label.length&&(this.$level1label.on("click",function(t){var i=$(this).closest("li"),n=tr.openWeb.tools.state.breakpoint,o=n===tr.openWeb.tools.settings.breakpointTags.phone;t.preventDefault(),i.hasClass("active")?(i.removeClass("active"),o&&i.find(".level-2").velocity("slideUp",{duration:e.config.duration}),e.activeDropdown=!1,$("body").off(".openWeb.localNavigation.dropdown.watch"),$(window).off(".openWeb.localNavigation.dropdown.watch")):!function(){o?i.find(".level-2").stop().velocity("slideDown",{duration:e.config.duration,complete:function(){$(this).css("height","auto")}}):e.$level2.removeClass("active"),i.addClass("active"),e.activeDropdown=!0;var t=!1,n=void 0,a=void 0,s=void 0;o||Modernizr.touch||$(window).on("scroll.openWeb.localNavigation.dropdown.watch",function(){e.activeDropdown===!0&&(clearTimeout(a),t===!1&&(t=$(window).scrollTop()),n=$(window).scrollTop(),s=Math.abs(t-n),s>75&&(e.reset(),t=!1),a=setTimeout(function(){t=!1},300))}),o||$("body").on("click.openWeb.localNavigation.dropdown.watch",function(t){e.$nav.is(t.target)||0!==e.$nav.has(t.target).length||e.$toggle.is(t.target)||0!==e.$toggle.has(t.target).length||e.reset()})}()}),$(".dropdown").on("show.bs.dropdown",function(){e.activeDropdown===!0&&e.reset()}))},reset:function(){this.$nav.removeAttr("style"),this.$level2.removeClass("active").find(".level-2").removeAttr("style")}},$(function(){tr.openWeb.localNavigation.init()}),tr.openWeb.carouselSingleElement={$el:$(".carousel-single-element"),logList:[],init:function(){this.$el.length&&this.setup(),$("ul.slides > li:only-child").addClass("only-child")},setup:function(){this.$el.each(function(e){var t=$(this),i=t.data("carouseltitle"),n=t.data("carousel-overlay"),o=t.find(".slides"),a=void 0;n&&(a=$(n).find(".carousel-items"),a.data("carouseltitle",i));var s=function(){return n?!$(n).is(":visible"):!0};if(o.find("a").on("click",function(){var e=$(this),t=e.find("img").eq(0).attr("src"),n=e.closest(".slick-slide").data("slick-index")+1+" "+t;tr.openWeb.analytics.sendEvent(i+" Carousel","Click",n)}),o.children(".slide").length>1&&(o.on("afterChange",function(o,r,l){if(n&&a.hasClass("slick-initialized")){var c=l||0;a.slick("slickCurrentSlide")!==c&&a.slick("slickGoTo",c)}tr.openWeb.videoAsset.removeVideos(t);var d=e+":"+l;if(s()&&-1===$.inArray(d,tr.openWeb.carouselSingleElement.logList)){var h=$(r.$slides.get(l)).find("img").eq(0).attr("src");tr.openWeb.carouselSingleElement.logList.push(d),tr.openWeb.analytics.sendEvent(i+" Carousel","View",l+1+" "+h)}}),o.slick({dots:!1,arrows:!0,infinite:!1,speed:500,slide:".slide",cssEase:"ease",slidesToShow:1})),n){var r='<button type="button" data-role="none" data-toggle="modal" data-target="'+n+'" class="slick-open-overlay" aria-label="Open Overlay" role="button" aria-disabled="false">Open Overlay</button>';t.addClass("carousel-single-element--with-overlay"),$(r).appendTo(o).on("click",function(){var e=o.find(".slick-current").eq(0),n=e.find("img").eq(0).attr("src"),s=e.data("slick-index")+1+" "+n;tr.openWeb.analytics.sendEvent(i+" Carousel","Expand",s),tr.openWeb.videoAsset.removeVideos(t),a.trigger("modalShown")})}})}},$(function(){tr.openWeb.carouselSingleElement.init()}),tr.openWeb.tabs={$el:$(".tabs:not(.tabs-standalone)"),settings:{accordionClass:"accordion",duration:600,breakpoints:{xs:"screen-phone",sm:"screen-tablet",md:"screen-desktop",lg:"screen-widescreen"},accordionDefault:{xs:!0,sm:!1,md:!1,lg:!1}},init:function(){if(this.$el.length){this.$toggle=$('[data-toggle="tab"]'),this.setup("init"),this.handlers();var e=window.location.hash;if(e){var t=$('[data-toggle="tab"][href="'+e+'"]');t.length&&t.first().trigger("click")}}},handlers:function(){var e=this;this.$toggle.on("click",function(t){var i=$(this).closest(".tabs"),n=$(this).attr("href").replace("#","");t.preventDefault(),window.location.hash=n,$(this).closest("li").hasClass("active")||$(this).closest(".tab-pane").hasClass("active")?i.hasClass(e.settings.accordionClass)&&(i.find('.tabs-nav a[data-toggle="tab"][href="#'+n+'"]').closest("li").removeClass("active"),i.find(".tab-pane#"+n).removeClass("active"),i.find(".tab-pane#"+n+" .tab-pane-body").velocity("slideUp",{duration:e.settings.duration})):(i.hasClass(e.settings.accordionClass)?i.find(".tab-pane#"+n+" .tab-pane-body").velocity("slideDown",{duration:e.settings.duration}):(i.find(".tabs-nav li.active").removeClass("active"),i.find(".tab-pane.active").removeClass("active")),i.find('.tabs-nav a[data-toggle="tab"][href="#'+n+'"]').closest("li").addClass("active"),i.find(".tab-pane#"+n).addClass("active"))}),$(window).on("breakpointchange",function(){e.setup("resized")})},checkLayout:function(e){var t=e.find(".tabs-nav").outerHeight(),i=e.find(".tabs-nav li:first").outerHeight();return t>i},setup:function(e){var t=this,i=!1;this.$el.each(function(){var n=$(this),o=tr.openWeb.tools.state.breakpoint;if("undefined"==typeof n.data("collapsed")&&n.data("collapsed",!1),$.each(t.settings.breakpoints,function(e,a){n.data("accordion-"+e)===!0&&o===a?i=!0:n.data("accordion-"+e)===!1&&o===a?i=!1:t.settings.accordionDefault[e]===!0&&o===a&&(i=!0)}),i=t.checkLayout(n)?!0:i,i===!0&&n.data("collapsed")===!1)t.addaccordion(n,e);else if(n.data("collapsed")===!0){t.removeaccordion(n,!1);var a=t.checkLayout(n);if(a===!0)t.addaccordion(n,e);else{var s=0===n.find(".tabs-nav li.active a").length;s&&n.find(".tabs-nav li:first a").click()}}})},addaccordion:function(e,t){var i=this;if(e.addClass(i.settings.accordionClass),"init"===t)e.find(".tabs-nav li.active").removeClass("active"),e.find(".tab-pane.active").removeClass("active");else if("resized"===t){var n=e.find(".tabs-nav li.active a").length>0;if(n){var o=e.find(".tabs-nav li.active a").attr("href").replace("#","");e.find(".tab-pane#"+o).find(".tab-pane-body").show()}}e.data("collapsed",!0)},removeaccordion:function(e,t){var i=this,n=e.find(".tabs-nav li.active").length;e.removeClass(i.settings.accordionClass),i.reset(e),0===n?t!==!1&&e.find(".tabs-nav li:first a").click():n>1&&(e.find(".tabs-nav li.active").removeClass("active"),e.find(".tab-pane.active").removeClass("active"),e.find(".tabs-nav li:first a").click()),e.data("collapsed",!1)},reset:function(e){e.find(".tab-pane-body").removeAttr("style")}},$(function(){tr.openWeb.tabs.init()}),tr.openWeb.cookiePolicy={$el:$(".cookie-policy"),init:function(){this.$el.length&&this.setup()},setup:function(){var e=$.cookie("cookie-policy");"accepted"!==e&&(this.open(),this.handlers()),$(window).trigger("resetfixedsticky")},handlers:function(){$("body").on("click.openWeb.cookiePolicy.watch",function(){$.cookie("cookie-policy","accepted",{expires:365}),$("body").off(".openWeb.cookiePolicy.watch")})},open:function(){this.$el.show()}},$(function(){tr.openWeb.cookiePolicy.init()}),tr.openWeb.videoAsset={init:function(){this.$el=$("a.video-play"),this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$el.each(function(){$(this).data("video-asset-active")!==!0&&($(this).on("click touchstart",function(t){t.preventDefault(),e.addVideo($(this))}),$(this).data("video-asset-active",!0))})},addVideo:function(e){var t=e.closest(".video"),i=void 0,n=void 0;if("undefined"!=typeof t.data("vimeo")?(i="vimeo",n=t.data("vimeo")):"undefined"!=typeof t.data("youtube")?(i="youtube",n=t.data("youtube")):"undefined"!=typeof t.data("qq")&&(i="qq",n=t.data("qq")),"undefined"!=typeof i){var o=t.width(),a=t.height(),s=a/o,r='<div class="fluid-width-video-wrapper" style="padding-top:'+100*s+'%;"></div>',l=$(r),c=n+"|"+t.data("videotitle"),d="",h="",u="",p=null;switch(this.removeVideos($(document)),l.appendTo(t),i){case"vimeo":h="vimeo_"+n,d="https://player.vimeo.com/video/"+n+"?api=1&player_id="+h+"&autoplay=1&html5=1";break;case"youtube":h="youtube_"+n,d="https://www.youtube.com/embed/"+n+"?enablejsapi=1&autoplay=1&color=white&modestbranding=1&rel=0&showinfo=0&theme=light";break;case"qq":h="qq_"+n,d="https://v.qq.com/iframe/player.html?vid="+n+"&tiny=1&auto=1"}u='<iframe class="embedded-video" src="'+d+'" id="'+h+'" width="'+o+'" height="'+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',p=$(u),p.appendTo(l),e.hide(),setTimeout(function(){t.fitVids(),t.find("iframe").removeAttr("width").removeAttr("height")},0),tr.openWeb.analytics.sendEvent("Video","Play",c),this.addVideoTracking(i,c,p.get(0))}},addVideoTracking:function(e,t,i){var n=void 0;if("youtube"===e&&"undefined"!=typeof YT){var o=function(e){e.data===YT.PlayerState.PLAYING?tr.openWeb.analytics.sendEvent("Video","Play",t):e.data===YT.PlayerState.PAUSED?tr.openWeb.analytics.sendEvent("Video","Pause",t):e.data===YT.PlayerState.ENDED&&tr.openWeb.analytics.sendEvent("Video","Finish",t)};n=new YT.Player(i,{events:{onStateChange:o}})}"vimeo"===e&&"undefined"!=typeof Froogaloop&&(n=Froogaloop(i),n.addEvent("ready",function(){n.addEvent("play",function(){tr.openWeb.analytics.sendEvent("Video","Play",t)}),n.addEvent("pause",function(){tr.openWeb.analytics.sendEvent("Video","Pause",t)}),n.addEvent("finish",function(){tr.openWeb.analytics.sendEvent("Video","Finish",t)})}))},removeVideos:function(e){e?(e.find(".fluid-width-video-wrapper").remove(),e.find(".video-play").show()):($(".fluid-width-video-wrapper").remove(),$(".video-play").show())}},$(function(){tr.openWeb.videoAsset.init()}),$(window).on("reinit",function(){tr.openWeb.videoAsset.init()}),tr.openWeb.imageAsset={$el:$(".image-asset"),$overlay:$(".image-asset .overlay"),init:function(){this.$overlay.length&&this.handlers()},handlers:function(){var e=this;Modernizr.touch||this.$overlay.closest(".image-asset").find("img").on("mouseenter",function(){var t=$(this).closest(".image-asset");if(t.data("active")!==!0){var i=t.find(".overlay");e.showOverlay(t,i)}})},showOverlay:function(e,t){var i=this,n=e.find("img"),o=t.clone();n.wrap('<div class="overlay-wrapper"></div>'),o.insertAfter(n).css("width",n.width()),n.parent().on("mouseleave",function(){if($(this).closest(".image-asset").data("active")===!0){var e=$(this).find(".overlay");i.hideOverlay($(this).closest(".image-asset"),e)}}),e.data("active",!0)},hideOverlay:function(e){var t=e.find("img");t.parent().find(".overlay").remove(),t.unwrap(),e.data("active",!1)}},$(function(){tr.openWeb.imageAsset.init()}),tr.openWeb.socialSharing={$el:$(".social-sharing"),compactClass:"social-sharing--compact",heightTolerance:90,init:function(){this.$el.length&&(this.setup(),this.handlers()),this.initShareButtons()},setup:function(){var e=this;this.$el.each(function(){var t=$(this);t.removeClass(e.compactClass),setTimeout(function(){var i=t.outerHeight();i>e.heightTolerance&&t.addClass(e.compactClass)},0)})},handlers:function(){var e=this;$(window).on("breakpointchange.tr.openWeb.searchResultsFilterSet.watch",function(){e.setup()})},initShareButtons:function(){var e=window.location.href,t=document.title;$(".js-social").each(function(){$(this).find(".icon-twitter").parent().on("click",function(){
window.open("https://twitter.com/intent/tweet?url="+encodeURIComponent(e)+"&text="+encodeURIComponent(t),"","directories=no, height=450, width=580, location=no, menubar=no, status=no, titlebar=no, toolbar=no"),tr.openWeb.analytics.sendEvent("Social Share","Twitter",e)}),$(this).find(".icon-facebook").parent().on("click",function(){window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e),"","directories=no, height=450, width=580, location=no, menubar=no, status=no, titlebar=no, toolbar=no"),tr.openWeb.analytics.sendEvent("Social Share","Facebook",e)}),$(this).find(".icon-linkedin").parent().on("click",function(){window.open("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(e),"","directories=no, height=450, width=580, location=no, menubar=no, status=no, titlebar=no, toolbar=no"),tr.openWeb.analytics.sendEvent("Social Share","LinkedIn",e)}),$(this).find(".icon-google-plus").parent().on("click",function(){window.open("https://plusone.google.com/_/+1/confirm?hl=en&url="+encodeURIComponent(e),"","directories=no, height=450, width=580, location=no, menubar=no, status=no, titlebar=no, toolbar=no"),tr.openWeb.analytics.sendEvent("Social Share","GooglePlus",e)}),$(this).find(".icon-whatsapp").parent().on("click",function(){window.location="whatsapp://send?text="+encodeURIComponent(t+" - "+e),tr.openWeb.analytics.sendEvent("Social Share","WhatsApp",e)}),$(this).find(".icon-line").parent().on("click",function(){window.location="line://msg/text/"+encodeURIComponent(t+" - "+e),tr.openWeb.analytics.sendEvent("Social Share","Line",e)}),$(this).find(".icon-weibo").parent().on("click",function(){window.open("http://service.weibo.com/share/share.php?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t),"","directories=no, height=450, width=580, location=no, menubar=no, status=no, titlebar=no, toolbar=no"),tr.openWeb.analytics.sendEvent("Social Share","Weibo",e)}),$(this).find(".icon-email").parent().attr("href","mailto:?body="+encodeURIComponent(e)+"&subject="+encodeURIComponent(t)).on("click",function(t){tr.openWeb.analytics.sendEvent("Social Share","Email",e),t.stopPropagation()}),$(this).find(".icon-print").parent().on("click",function(){window.print()})})}},$(function(){tr.openWeb.socialSharing.init()}),tr.openWeb.dropdownList={$el:$(".dropdown-list"),init:function(){this.$el.length&&this.handlers()},handlers:function(){this.$el.find("select").on("change",function(){$(this).addClass("inuse")})}},$(function(){tr.openWeb.dropdownList.init()}),tr.openWeb.searchResultsFilterSet={activeClass:"active-xs",dropdown:".search-results-filter-set-wrapper",$el:$(".search-results-filter-set"),config:{duration:300},init:function(){this.$el.length&&(this.$list=$(".search-results-filter-set-list"),this.$toggle=$(".search-results-filter-set-toggle"),this.$header=$(".heading-6"),this.$categoryList=$(".search-results-category-list"),this.handlers())},handlers:function(){var e=this;$(window).on("breakpointchange.tr.openWeb.searchResultsFilterSet.watch",function(t,i,n){n!==tr.openWeb.tools.settings.breakpointTags.phone&&i!==tr.openWeb.tools.settings.breakpointTags.phone||e.reset()}),this.$toggle.on("click",function(t){var i=tr.openWeb.tools.state.breakpoint,n=i===tr.openWeb.tools.settings.breakpointTags.phone,o=$(this).closest(".search-results-filter-set-list");t.preventDefault(),n&&(o.hasClass(e.activeClass)?o.removeClass(e.activeClass).find(e.dropdown).stop().velocity("slideUp",{duration:e.config.duration,complete:function(){}}):o.addClass(e.activeClass).find(e.dropdown).stop().velocity("slideDown",{duration:e.config.duration,complete:function(){}}))})},reset:function(){$(this.dropdown).removeAttr("style"),this.$list.removeClass("active-xs")}},$(function(){tr.openWeb.searchResultsFilterSet.init()}),tr.openWeb.overlayBox={active:!1,config:{duration:150,overlay:".overlay-box",popover:".overlay-box-popover",dismiss:'[data-dismiss="overlay-box"]'},$el:$('[data-toggle="overlay-box"]'),init:function(){this.$el.length&&this.handlers()},handlers:function(){var e=this;this.$el.on("click",function(t){var i=$(this),n=i.css("padding-top");t.preventDefault(),e.active!==!1&&e.hide(e.active),setTimeout(function(){e.show(i,n)})}),$(this.config.dismiss).on("click",function(t){t.preventDefault(),e.hide($(this).closest(e.config.popover))})},show:function(e,t){var i=this,n=e.closest(this.config.overlay).find(this.config.popover);t&&n.css("top",t),n.velocity("fadeIn",{duration:i.config.duration}),this.active=n,$("body").on("click.openWeb.overlayBox.watch",function(e){i.$el.is(e.target)||0!==i.$el.has(e.target).length||i.hide(i.active)})},hide:function(e){var t=this;e.velocity("fadeOut",{duration:t.config.duration}),$("body").off("click.openWeb.overlayBox.watch"),this.active=!1}},$(function(){tr.openWeb.overlayBox.init()}),tr.openWeb.formValidation={config:{messages:{approved:"Approved",required:"Required"}},init:function(){this.$el=$(".form:not([data-skip-validation])"),this.$el.length&&this.handlers()},handlers:function(){var e=this,t=void 0;e.$el.find(".component[data-required]").find("input").each(function(){$(this).data("form-active")!==!0&&($(this).on("blur",function(){t=e.validateField($(this).closest(".component"))}),$(this).data("form-active",!0))}),e.$el.find("input[required], textarea[required], select[required]").each(function(){$(this).data("form-active")!==!0&&($(this).on("blur",function(){t=e.validateField($(this))}),$(this).data("form-active",!0))}),e.$el.find("select[required]").each(function(){$(this).data("form-active")!==!0&&($(this).on("change",function(){t=e.validateField($(this))}),$(this).data("form-active",!0))}),e.$el.find("form").each(function(){$(this).data("form-active")!==!0&&($(this).on("submit",function(){if(t=e.validateForm($(this)),t===!0);else{var i=$(this).closest(".modal"),n=void 0;if(i.length)n=$(this).closest("form").position().top,i.scrollTop(n);else{var o=$(".fixedsticky");n=$(this).closest(".form").offset().top,o.length&&"initial"!==o.css("position")&&"static"!==o.css("position")&&(n-=o.outerHeight()),$("body, html").scrollTop(n)}}return t}),$(this).data("form-active",!0))})},getMessage:function(e,t){return t.data("message-"+e)?t.data("message-"+e):this.config.messages[e]},validateField:function(e){var t=this,i=e.closest(".component"),n=i.closest(".form"),o=!0,a=!1,s=void 0;if("true"===e.attr("data-required")){var r=e.attr("data-groupname");0===e.find("input[name='"+r+"']:checked").length&&(o=!1)}if(e.attr("required")&&"checkbox"===e.attr("type")&&!e.prop("checked")&&(o=!1),e.attr("required")&&""===$.trim(e.val())&&(o=!1),"email"===e.attr("type"))if(""!==$.trim(e.val())){var l=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;l.test($.trim(e.val()))||(o=!1)}else o&&(a=!0);if("tel"===e.attr("type"))if(""!==$.trim(e.val())){var c=/\d/;c.test($.trim(e.val()))||(o=!1)}else o&&(a=!0);return i.removeClass("approved required").find("p.input-notice").remove(),a||(o?(s=t.getMessage("approved",n),i.addClass("approved").append('<p class="input-notice">'+s+"</p>")):(s=t.getMessage("required",n),i.addClass("required").append('<p class="input-notice">'+s+"</p>"))),o},validateForm:function(e){var t=this,i=e.find(".form-input-notice"),n=!0;return e.find("input[required], textarea[required], select[required], .component[data-required]").each(function(){var e=t.validateField($(this));e===!1&&(n=!1)}),i.hide(),n||!function(){var n=[];i.show(),e.find(".component").each(function(){var i=t.getMessage("approved",e),o=$(".component").index($(this).closest(".component"))+1;$(this).find(".input-notice").length>0&&$(this).find(".input-notice").text()!==i&&n.push(o)}),n=n.join(", ")}(),n}},tr.openWeb.formValidation.handleInitEvent=function(){tr.openWeb.formValidation.init(),$(".numeric").numeric(),$(".text-fields-userEmail input").val("")},$(function(){tr.openWeb.formValidation.handleInitEvent()}),$(window).on("reinit",function(){tr.openWeb.formValidation.handleInitEvent()}),tr.openWeb.callSales={$el:$(".call-sales"),init:function(){this.$el.length&&this.handlers()},handlers:function(){this.$el.find("select").on("change",function(){var e=$(this).val(),t=$(this).closest(".call-sales").find(".call-sales-body");t.html(e)})}},$(function(){tr.openWeb.callSales.init()}),tr.openWeb.dynamicHeroVideo={init:function(){$(document).on("autoplayavailable",function(){tr.openWeb.dynamicHeroVideo.autoplayAvailable()}),this.initAutoplayCheck()},initAutoplayCheck:function(){var e="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t="data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=";try{var i=new Audio,n=i.canPlayType("audio/ogg")?t:e;$(i).on("play",function(){$(document).trigger("autoplayavailable")}),i.autoplay=!0,i.volume=0,i.src=n}catch(o){return!1}},autoplayAvailable:function(){var e=document.createElement("video");e.canPlayType&&(e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')||e.canPlayType('video/webm; codecs="vp8, vorbis"'))&&this.injectVideo()},injectVideo:function(){$(".dynamic-hero-video .container-video").each(function(){var e=$(this),t=e.attr("data-video-mp4"),i=e.attr("data-video-webm"),n=void 0;e.removeClass("active").empty(),n=document.createElement("video").canPlayType("video/mp4")?$('<video autoplay loop muted><source src="'+t+'" type="video/mp4" /></video>'):$('<video autoplay loop muted><source src="'+i+'" type="video/webm" /></video>'),n.on("play",function(){$(this).parent().addClass("active")}),n.appendTo(e)})}},$(function(){tr.openWeb.dynamicHeroVideo.init()}),tr.openWeb.carouselProductHeroGallery={$el:$(".carousel-product-hero-gallery > .inner"),init:function(){this.$el.length&&this.setup(),$("ul.slides > li:only-child").addClass("only-child")},setup:function(){this.$el.each(function(){var e=$(this).find("ul.slides > li"),t=void 0;e.length>1?$(this).flexslider({sync:"#product-hero-gallery-thumbs",controlNav:!1,slideshow:!1,keyboard:!1,animation:"fade",animationLoop:!1,minItems:1,maxItems:1,loop:!1,before:function(e){t=e.currentSlide},after:function(e){var i=e;i.length&&t!==e.currentSlide&&tr.openWeb.videoAsset.removeVideos(i)}}):e.show()})}},tr.openWeb.carouselProductHeroGalleryThumbs={$el:$(".carousel-product-hero-gallery > .thumbs"),config:{"screen-phone":{itemWidth:68,itemMargin:10,grid:3},"screen-tablet":{itemWidth:68,itemMargin:12,grid:3},"screen-desktop":{itemWidth:68,itemMargin:8,grid:3},"screen-widescreen":{itemWidth:70,itemMargin:30,grid:3}},init:function(){this.$el.length&&(this.setup(),this.handlers())},handlers:function(){var e=this;$(window).on("breakpointchange",function(){e.update()})},getConfig:function(e){var t=tr.openWeb.tools.state.breakpoint;return this.config[t][e]},setup:function(){this.flexslider()},flexslider:function(){var e=this;this.$el.each(function(){var t=$(this).find("ul.slides > li"),i=void 0;t.length>1?$(this).flexslider({asNavFor:"#product-hero-gallery",controlNav:!0,slideshow:!1,keyboard:!1,animation:"slide",animationLoop:!1,itemWidth:e.getConfig("itemWidth"),itemMargin:e.getConfig("itemMargin"),prevText:"",nextText:"",loop:!0,before:function(e){i=e.currentSlide},after:function(e){var t=e;t.length&&i!==e.currentSlide&&tr.openWeb.videoAsset.removeVideos(t),Modernizr.touch&&(t.find(".flex-next").blur(),t.find(".flex-prev").blur())}}):t.show()})},update:function(){var e=this;this.$el.each(function(){var t=$(this).data("flexslider");t.vars.itemWidth=e.getConfig("itemWidth"),t.vars.itemMargin=e.getConfig("itemMargin"),setTimeout(function(){t.resize(),t.resize()},300)})}},tr.openWeb.carouselProductHeroGalleryModal={$el:$(".carousel-product-hero-gallery-modal > .inner"),init:function(){this.$el.length&&this.setup()},setup:function(){this.$el.each(function(){var e=$(this).find("ul.slides > li"),t=void 0;e.length>1?$(this).flexslider({sync:"#product-hero-gallery-thumbs",controlNav:!0,slideshow:!1,keyboard:!1,animation:"fade",animationLoop:!1,minItems:1,maxItems:1,loop:!1,before:function(e){t=e.currentSlide},after:function(e){var i=e;i.length&&t!==e.currentSlide&&tr.openWeb.videoAsset.removeVideos(i)}}):e.show()})}},$(function(){tr.openWeb.carouselProductHeroGallery.init(),tr.openWeb.carouselProductHeroGalleryThumbs.init(),tr.openWeb.carouselProductHeroGalleryModal.init()}),tr.openWeb.eCommHeroHome={init:function(){$(".hero-home li").click(function(e){var t=$(this).attr("data-slide");e.preventDefault(),$(this).addClass("active"),$(this).siblings().removeClass("active"),$(".slide").not(t).removeClass("active"),$(t).addClass("active")})}},$(function(){tr.openWeb.eCommHeroHome.init()}),tr.openWeb.shippingInformation={init:function(){$(".shipping-information-form").length&&!$(".shipping-information-form").is(":visible")&&$(".shipping-information-form *[required]").removeAttr("required").attr("data-required",!0),$("input#text-fields-billing-same-address").change(function(){$(this).is(":checked")?($(this).closest(".shipping-information").removeClass("active"),$(".shipping-information-form *[required]").removeAttr("required").attr("data-required",!0)):($(this).closest(".shipping-information").addClass("active"),$(".shipping-information-form *[data-required]").removeAttr("data-required").attr("required","required"))})}},$(function(){tr.openWeb.shippingInformation.init()}),tr.openWeb.billingTypeOfID={init:function(){$(".billing-type-of-id-form > div").hide(),$("select#text-fields-billing-type-of-id").change(function(){$(".billing-type-of-id-form > div").hide(),$(".billing-type-of-id-form *[required]").removeAttr("required").attr("data-required",!0),$("."+$(this).val()).show(),$("."+$(this).val()+" *[data-required]").removeAttr("data-required").attr("required","required")})}},$(function(){tr.openWeb.billingTypeOfID.init()}),tr.openWeb.billingTypeOfClient={init:function(){$(".billing-type-of-client-form > div").hide(),$("select#text-fields-billing-type-of-client").change(function(){$(".billing-type-of-client-form > div").hide(),$(".billing-type-of-client-form *[required]").removeAttr("required").attr("data-required",!0),$("."+$(this).val()).show(),$("."+$(this).val()+" *[data-required]").removeAttr("data-required").attr("required","required")})}},$(function(){tr.openWeb.billingTypeOfClient.init()}),tr.openWeb.billRequired={init:function(){$(".bill-required-form").length&&!$(".bill-required-form").is(":visible")&&$(".bill-required-form *[required]").removeAttr("required").attr("data-required",!0),$("input#text-fields-billing-bill-required").change(function(){$(this).is(":checked")?($(this).closest(".bill-required").addClass("active"),$(".bill-required-form *[data-required]").removeAttr("data-required").attr("required","required")):($(this).closest(".bill-required").removeClass("active"),$(".bill-required-form *[required]").removeAttr("required").attr("data-required",!0))})}},$(function(){tr.openWeb.billRequired.init()}),tr.openWeb.ecommPaymentMethod={init:function(){var e=$("#text-fields-payment-method"),t=$(".ecomm-payment-card-hideable-form");e.length&&this.addHandlers(e,t)},addHandlers:function(e,t){e.on("change",this.paymentMethodChanged.bind(this,e,t))},paymentMethodChanged:function(e,t){var i=e.val();e.find('[value="'+i+'"]').data("offline")===!0?(t.hide(),t.find("[required]").each(function(){$(this).attr("required",!1).attr("data-required",!0)})):(t.show(),t.find("[data-required]").each(function(){$(this).attr("required",!0).attr("data-required",!1)}))}},$(function(){tr.openWeb.ecommPaymentMethod.init()}),tr.openWeb.carouselScreenshotGallery={$el:$(".carousel-gallery:not(.carousel-gallery-modal)"),init:function(){this.$el.length&&this.setup()},setup:function(){var e=this;this.$el.each(function(t){var i=$(this),n=i.find(".carousel-items"),o=n.find(".carousel-item:first img:eq(0)"),a=i.find(".carousel-slidecount"),s=i.find(".carousel-current-slide-link"),r=i.closest(".modal-carousel-overlay").attr("id"),l=window.location.search.toString(),c=l.slice(1).split("&"),d=new tr.openWeb.carouselScreenshotGallery.Analytics(i),h=void 0,u=0;r&&(h=$('[data-carousel-overlay="#'+r+'"]').find(".slides"));for(var p=0;p<c.length;p++){var f=c[p].split("=");if(f[0]==="gallery"+(t+1)&&!isNaN(f[1])){u=parseInt(f[1])-1,window.setTimeout(function(t){e.scrollToGallery(t)},500,this);break}}d.init(!r&&0===u),n.on("init reInit afterChange",function(e,t,i){var o=n.find(".slick-current img").attr("src"),l=i?i:0;a.text(l+1+" / "+t.slideCount),s.attr("href",o),r&&h.hasClass("slick-initialized")&&h.slick("slickCurrentSlide")!==l&&(h.slick("slickGoTo",l),tr.openWeb.videoAsset.removeVideos())}).on("setPosition",function(){var e=o.height()/2;e>0&&i.find(".slick-prev, .slick-next").css("top",-e).css("visibility","visible")}).slick({initialSlide:u,dots:!1,arrows:!0,infinite:!1,useTransform:!0,speed:300,slidesToShow:1,centerPadding:"30px",centerMode:!0,variableWidth:!0,appendArrows:i.find(".carousel-controls"),responsive:[{breakpoint:1260,settings:{centerPadding:"20px",variableWidth:!0}},{breakpoint:1024,settings:{centerPadding:"0",variableWidth:!1}},{breakpoint:768,settings:{centerPadding:"0",variableWidth:!1}}]}),o.load(function(){n.trigger("setPosition afterChange")}).each(function(){this.complete&&$(this).load()})})},scrollToGallery:function(e){$(e).stop().velocity("scroll",{duration:0})}},$(function(){tr.openWeb.carouselScreenshotGallery.init()});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();!function(e,t){t.openWeb.carouselScreenshotGallery.Analytics=function(){function i(e){_classCallCheck(this,i),this.$el=e,this.viewed=[]}return _createClass(i,[{key:"init",value:function(t){var i=this,n=this.getCarouselItems(),o=this.$el.find(".carousel-current-slide-link");t&&i.viewed.push(0),n.on("init reInit afterChange",function(e,t,o){var a=n.find(".slick-current img").attr("src"),s=o?o:0;i.view(s,a)}),n.on("modalShown",function(){i.view(n.slick("slickCurrentSlide"),n.find(".slick-current img").attr("src"),!0)}),o.on("click tap",function(){i.expand(n.slick("slickCurrentSlide"),e(this).attr("href"))}),n.find("a").on("click tap",function(){i.click(n.slick("slickCurrentSlide"),e(this).attr("href"))})}},{key:"shouldFireAnalytics",value:function(){var e=this.$el.closest(".modal-carousel-overlay");return e.length?e.is(":visible"):!0}},{key:"view",value:function(e,i,n){(n||this.shouldFireAnalytics())&&-1===this.viewed.indexOf(e)&&(t.openWeb.analytics.sendEvent(this.makeCategory(),"View",this.makeSlideLabel(e,i)),this.viewed.push(e))}},{key:"expand",value:function(e,i,n){(n||this.shouldFireAnalytics())&&t.openWeb.analytics.sendEvent(this.makeCategory(),"Expand",this.makeSlideLabel(e,i))}},{key:"click",value:function(e,i,n){(n||this.shouldFireAnalytics())&&t.openWeb.analytics.sendEvent(this.makeCategory(),"Click",this.makeSlideLabel(e,i))}},{key:"makeCategory",value:function(){var e=this.getCarouselItems();return"Screenshot Gallery "+(this.$el.find(".heading-1").text()||e.data("carouseltitle"))}},{key:"makeSlideLabel",value:function(e,t){return e+1+"/"+this.getSlick().slideCount+" "+t}},{key:"getCarouselItems",value:function(){return this.$el.find(".carousel-items")}},{key:"getSlick",value:function(){return this.getCarouselItems().slick("getSlick")}}]),i}()}(jQuery,tr),tr.openWeb.tagSelect={$el:$(".tag-select"),init:function(){var e=this;e.$el.each(function(){var t=$(this).data("placeholder");$(this).select2({closeOnSelect:!1,placeholder:t,templateResult:e.templateResult,templateSelection:e.templateSelection})})},handlers:function(){},templateResult:function(e){return e.id?$("<span>"+e.text+"</span>"):e.text},templateSelection:function(e){return e.id?$("<span>"+e.text+"</span>"):e.text}},$(function(){tr.openWeb.tagSelect.init()}),tr.openWeb.advancedSearchFilters={$el:$(".advanced-filter-search"),init:function(){var e=this;e.$el.each(function(){e.initTable(this)}),e.handlers()},initTable:function(e){var t,i,n=this,o=$(e),a=o.data("url"),s=o.data("cols-display"),r=o.data("cols-filter"),l=o.data("cols-classes"),c=o.data("cols-links"),d=o.data("cols-headings"),h=o.data("filter-headings"),u="undefined"!=typeof o.attr("data-has-headings"),p=o.find(".search-results-placeholder"),f=o.find(".search-filters-placeholder"),v=[],g=[],m=[],b=[],y=o.data("page-size")||50,w=0,A=function(){return Math.ceil(i.length/y)},k=function(e){var t=n.$el.find("script.template").html();p.html(n.resigTemplate(t,{rows:e,headings:v,colsClasses:l,pageCount:A(),resultCount:i.length,ceilItem:Math.min(i.length,(w+1)*y)-1,floorItem:w*y,pageIndex:w}))},q=function(){if(b.length>0){i=[];for(var e=0;t.length>e;e++){for(var n=!0,o=0;t.length>o;o++)if(b[o]&&-1===b[o].indexOf(t[e][o].text)){n=!1;break}n&&i.push(t[e])}}else i=t},W=function(e){for(var t=[],i=0;e.length>i;i++){for(var n=[],o=0;s.length>o;o++)n.push(e[i][s[o]]);t.push(n)}return t},C=function(){var e;q(),e=n.paginateData(i,y,w),k(e)},S=function(e){var t=$(e.target),i=t.val(),n=t.data("index");w=0,b[n]=i,C()},x=function(){var e=n.$el.find("script.filter-template").html();f.html(n.resigTemplate(e,{filters:g,colsFilter:r,filterHeadings:m})),o.find(".tag-select").each(function(){$(this).select2({closeOnSelect:!1,placeholder:$(this).data("placeholder"),templateResult:tr.openWeb.tagSelect.templateResult,templateSelection:tr.openWeb.tagSelect.templateSelection}).on("change",S)})},T=function(){n.$el.on("click","[data-page-index]",function(e){var t=$(this).data("page-index");isNaN(t)||(w=t,C()),e.preventDefault()}),n.$el.on("click","[data-page-previous]",function(e){0!==w&&(w--,C()),e.preventDefault()}),n.$el.on("click","[data-page-next]",function(e){w!==A()-1&&(w++,C()),e.preventDefault()})},U=function(e){var i=W(e);u?(t=i.slice(1),v=i[0]):t=i;var o,a,l;for(o=0;d.length>o;o++)v[o]=d[o]||v[o]||"";var p=0;for(t.length&&(p=t[0].length),o=0;t.length>o;o++){for(a=0;p>a;a++)l=t[o][a].trim(),t[o][a]={html:l,text:l};for(a=0;r.length>a;a++)l=t[o][r[a]].text,g[a]=g[a]||[],-1===g[a].indexOf(l)&&g[a].push(l)}for(o=0;g.length>o;o++)g[o].sort(),m.push(v[r[o]]);for(o=0;h.length>o;o++)m[o]=h[o]||m[o]||"";for(var f in c){f=parseInt(f);var b=c[f],$=s.indexOf(f);if(-1!==$)for(o=0;t.length>o;o++){var y=e[o+(u?1:0)][b].trim();if(n.naiveIsUrl(y)){var w='<a href="'+y+'">'+t[o][$].html+"</a>";t[o][$].html=w}}}x(),T(),C()};$.ajax({url:a,type:"get",async:!0}).success(function(e){var t=CSV.parse(e,{cast:!1,header:!1});U(t)})},paginateData:function(e,t,i){var n,o=t*(i+1);return o>e.length&&(o=e.length),n=e.slice(t*i,o)},naiveIsUrl:function(e){return-1===e.indexOf("/")?!1:-1===e.indexOf(" ")},cache:{},resigTemplate:function(e,t){var i=this,n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<~").join("	").replace(/((^|~>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)~>/g,"',$1,'").split("	").join("');").split("~>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i.cache[e]=i.cache[e]||i.resigTemplate(document.getElementById(e).innerHTML);return t?n(t):n},handlers:function(){}},$(function(){tr.openWeb.advancedSearchFilters.init()}),function(e){tr.openWeb.feedbackButton={buttonSelector:".floating-feedback-button",bottomDistanceSelector:".global-footer",init:function(){var t=this;e(this.buttonSelector).length&&e(this.buttonSelector).each(function(){t.addHandlers(e(this)),t.positionButton(e(this))})},addHandlers:function(t){var i=this;e(window).on("scrolled resized",function(){i.positionButton(t)})},positionButton:function(t){var i=this,n=i._getBottomCushion(),o=e(document).height(),a=e(window).height(),s=e(window).scrollTop(),r=o-(s+a);0===s&&o===a?t.css({right:"",bottom:e(i.bottomDistanceSelector).height()}):(0!==s||o===a)&&n>r?t.css({right:-(t.outerWidth()+10)+"px",bottom:""}):t.css({right:"",bottom:""})},_getBottomCushion:function(){return 100}},e(function(){tr.openWeb.feedbackButton.init()})}(jQuery);
//# sourceMappingURL=maps/main.js.map
